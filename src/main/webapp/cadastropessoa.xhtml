<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Cadastro de pessoa</title>
        <link rel="shortcut icon" type="image/x-icon" href="#{resource['favicon/favicon.ico']}"/>   
        <style>
            button.ui-button {
                margin: 8px !important;               
            }
            .ui-outputlabel .ui-outputlabel-label {
                color: var(--blue-500);
            }
            .title {
                color: var(--blue-500) !important;
            }
            .form {
                width: 80%;
                margin-left: auto;
                margin-right: auto;
            }
            .separator {
                width: 100%;
                height: 1rem;
                background-color: transparent;
                display:block;
            }
            .delete-icon {
                color: var(--red-500) !important;
            }
        </style>
    </h:head>
    <h:body class="body">

        <h1 class="title">Cadastro de Pessoa</h1>

        <h:form class="form">
            
            <h:panelGroup styleClass="card ui-fluid" layout="block">
                <p:outputLabel for="name" value="Nome:" styleClass="ui-float-label"/>
                <p:inputText id="name" value="#{cadastroPessoaBean.pessoaSelecionada.nome}"/>
                
                <p:outputLabel for="email" value="E-mail:" styleClass="ui-float-label"/>
                <p:inputText id="email" value="#{cadastroPessoaBean.pessoaSelecionada.email}"/>

                <p:outputLabel for="telefone" value="Telefone:" styleClass="ui-float-label"/>
                <p:inputText id="telefone" value="#{cadastroPessoaBean.pessoaSelecionada.telefone}"/>
                <p:commandButton value="Salvar" action="#{cadastroPessoaBean.submit()}" icon="pi pi-check" ajax="false"/>
            </h:panelGroup>

            <h:panelGroup styleClass="separator" layout="block"/>

            <p:dataTable var="p" value="#{cadastroPessoaBean.lista}" showGridlines="true">
                <p:column headerText="Código">
                    <h:outputText value="#{p.codigo}" />
                </p:column>
                
                <p:column headerText="Nome">
                    <h:outputText value="#{p.nome}" />
                </p:column>
                
                <p:column headerText="Telefone">
                    <h:outputText value="#{p.telefone}" />
                </p:column>

                <p:column headerText="Ações">
                    <p:tooltip for="editar" value="Editar pessoa" position="bottom"/>
                    <p:commandButton type="button" id="editar" icon="pi pi-pencil" styleClass="rounded-button ui-button-flat" />

                     <p:tooltip for="deletar" value="Deletar pessoa" position="bottom"/>
                     <p:commandButton type="button" id="deletar" icon="pi pi-times" styleClass="rounded-button ui-button-flat delete-icon" />
                </p:column>

            </p:dataTable>
        </h:form>
        <!--load custom css after primefaces!-->
        <h:outputStylesheet library="css" name="pessoa.css"/>
        <!--load primeflex!-->
        <h:outputStylesheet library="webjars" name="primeflex/3.3.1/primeflex.min.css" />
    </h:body>
</html>

